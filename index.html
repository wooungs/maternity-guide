<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìŠˆí¼ì„¼íŠ¸ ëª¨ì„±ë³´í˜¸ ê°€ì´ë“œ</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css">
    <style>
        :root {
            --gradient-main: linear-gradient(135deg, #e8f4fc 0%, #f8e8f4 25%, #f0e6fa 50%, #fef6e8 75%, #e8f4fc 100%);
            --gradient-pink: linear-gradient(135deg, #ff9eb5 0%, #ffb8d0 50%, #ffd0e0 100%);
            --gradient-blue: linear-gradient(135deg, #7ec8e8 0%, #a8d8f0 50%, #c8e8f8 100%);
            --gradient-purple: linear-gradient(135deg, #c8a8e8 0%, #d8c0f0 50%, #e8d8f8 100%);
            --gradient-yellow: linear-gradient(135deg, #ffe8a0 0%, #fff0c0 50%, #fff8e0 100%);
            --glass-bg: rgba(255, 255, 255, 0.25);
            --glass-border: rgba(255, 255, 255, 0.4);
            --glass-shadow: 0 8px 32px rgba(100, 100, 140, 0.15);
            --text-primary: #2d3748;
            --text-secondary: #5a6779;
            --focus-ring: rgba(200, 168, 232, 0.6);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, sans-serif;
            min-height: 100vh;
            background: var(--gradient-main);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            overflow-x: hidden;
            color: var(--text-primary);
        }
        
        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        .bg-decoration {
            position: fixed;
            border-radius: 50%;
            filter: blur(60px);
            opacity: 0.4;
            pointer-events: none;
            z-index: 0;
        }
        
        .bg-deco-1 { width: 400px; height: 400px; background: linear-gradient(135deg, #ffb8d0, #ffd0e0); top: -100px; right: -100px; animation: float1 20s ease-in-out infinite; }
        .bg-deco-2 { width: 300px; height: 300px; background: linear-gradient(135deg, #a8d8f0, #c8e8f8); bottom: -50px; left: -50px; animation: float2 25s ease-in-out infinite; }
        .bg-deco-3 { width: 250px; height: 250px; background: linear-gradient(135deg, #d8c0f0, #e8d8f8); top: 40%; left: 20%; animation: float3 18s ease-in-out infinite; }
        .bg-deco-4 { width: 200px; height: 200px; background: linear-gradient(135deg, #fff0c0, #fff8e0); bottom: 30%; right: 15%; animation: float1 22s ease-in-out infinite reverse; }
        
        @keyframes float1 { 0%, 100% { transform: translate(0, 0) rotate(0deg); } 33% { transform: translate(30px, -30px) rotate(5deg); } 66% { transform: translate(-20px, 20px) rotate(-5deg); } }
        @keyframes float2 { 0%, 100% { transform: translate(0, 0) scale(1); } 50% { transform: translate(40px, -40px) scale(1.1); } }
        @keyframes float3 { 0%, 100% { transform: translate(0, 0); } 25% { transform: translate(-30px, 30px); } 75% { transform: translate(30px, -30px); } }
        
        .page { display: none; min-height: 100vh; position: relative; z-index: 1; }
        .page.active { display: block; animation: fadeIn 0.5s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        
        .landing-page { display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; padding: 40px 20px; }
        .landing-header { text-align: center; margin-bottom: 60px; width: 100%; }
        .landing-logo { font-size: 1em; font-weight: 600; color: var(--text-secondary); letter-spacing: 2px; margin-bottom: 24px; opacity: 0.8; }
        .landing-title { font-size: clamp(2.5em, 6vw, 4em); font-weight: 800; background: linear-gradient(135deg, #7ec8e8 0%, #c8a8e8 50%, #ff9eb5 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; margin-bottom: 28px; line-height: 1.3; letter-spacing: -1px; }
        .landing-subtitle { font-size: clamp(1em, 2.5vw, 1.3em); color: var(--text-secondary); font-weight: 400; line-height: 1.8; max-width: 900px; margin: 0 auto; white-space: nowrap; }
        .landing-subtitle .highlight { color: #d899b8; font-weight: 600; }
        
        .menu-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 24px; max-width: 1200px; width: 100%; padding: 0 20px; }
        .menu-card { background: rgba(255, 255, 255, 0.85); border-radius: 28px; padding: 32px 28px 100px; cursor: pointer; transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); position: relative; overflow: hidden; box-shadow: 0 4px 20px rgba(100, 100, 140, 0.08); min-height: 240px; border: none; text-align: left; font-family: inherit; width: 100%; }
        .menu-card:hover, .menu-card:focus { transform: translateY(-8px); box-shadow: 0 16px 40px rgba(100, 100, 140, 0.15); outline: none; }
        .menu-card:focus-visible { box-shadow: 0 0 0 4px var(--focus-ring); }
        .menu-card-badge { display: inline-block; padding: 12px 28px; border-radius: 50px; font-size: 1.05em; font-weight: 700; color: white; margin-bottom: 24px; }
        .menu-card.pink .menu-card-badge { background: linear-gradient(135deg, #c8a8e8 0%, #b090d8 100%); }
        .menu-card.blue .menu-card-badge { background: linear-gradient(135deg, #7ec8e8 0%, #60b8e0 100%); }
        .menu-card.purple .menu-card-badge { background: linear-gradient(135deg, #a890d8 0%, #9080c8 100%); }
        .menu-card.yellow .menu-card-badge { background: linear-gradient(135deg, #e8c078 0%, #d8a858 100%); }
        .menu-card-desc { font-size: 1.05em; color: var(--text-secondary); line-height: 1.8; }
        .menu-card-desc .highlight { color: #9070c0; font-weight: 700; }
        .menu-icon { position: absolute; bottom: 20px; right: 24px; font-size: 3.5em; opacity: 0.9; pointer-events: none; }
        
        .calculator-page { padding: 40px 20px; max-width: 800px; margin: 0 auto; }
        .back-button { display: inline-flex; align-items: center; gap: 8px; padding: 12px 20px; background: var(--glass-bg); backdrop-filter: blur(20px); border: 1px solid var(--glass-border); border-radius: 50px; color: var(--text-secondary); font-size: 0.95em; font-weight: 500; cursor: pointer; transition: all 0.3s ease; margin-bottom: 32px; }
        .back-button:hover, .back-button:focus { background: rgba(255, 255, 255, 0.4); transform: translateX(-5px); outline: none; }
        .back-button:focus-visible { box-shadow: 0 0 0 3px var(--focus-ring); }
        
        .calc-header { text-align: center; margin-bottom: 40px; }
        .calc-icon { width: 80px; height: 80px; border-radius: 24px; display: flex; align-items: center; justify-content: center; font-size: 2.5em; margin: 0 auto 20px; background: var(--glass-bg); backdrop-filter: blur(20px); border: 1px solid var(--glass-border); }
        .calc-title { font-size: 2em; font-weight: 700; color: var(--text-primary); margin-bottom: 12px; }
        .calc-subtitle-small { font-size: 0.95em; color: var(--text-secondary); line-height: 1.6; display: block; margin-bottom: 20px; }

        .info-box {
            margin-bottom: 32px;
            padding: 24px;
            background: rgba(255, 255, 255, 0.4);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.6);
        }
        .info-box-title {
            font-size: 1.1em;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .info-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }
        .info-item:last-child { border-bottom: none; }
        .info-label { color: var(--text-secondary); font-weight: 600; font-size: 0.95em; }
        .info-value { color: var(--text-primary); font-size: 0.95em; font-weight: 500; text-align: right; }
        .info-value strong { color: #ff6b81; font-weight: 700; }
        
        .glass-card { background: var(--glass-bg); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border: 1px solid var(--glass-border); border-radius: 28px; padding: 36px; box-shadow: var(--glass-shadow); position: relative; overflow: hidden; margin-bottom: 40px; }
        .glass-card::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 4px; background: var(--card-gradient); }
        .glass-card.pink { --card-gradient: var(--gradient-pink); }
        .glass-card.blue { --card-gradient: var(--gradient-blue); }
        .glass-card.purple { --card-gradient: var(--gradient-purple); }
        .glass-card.yellow { --card-gradient: var(--gradient-yellow); }
        
        .form-group { margin-bottom: 24px; }
        .form-group label { display: block; font-size: 0.95em; font-weight: 600; color: var(--text-secondary); margin-bottom: 10px; }
        .form-group input, .form-group select { width: 100%; padding: 16px 20px; background: rgba(255, 255, 255, 0.5); border: 2px solid rgba(255, 255, 255, 0.4); border-radius: 16px; font-size: 1em; font-weight: 500; color: var(--text-primary); transition: all 0.3s ease; font-family: inherit; }
        .form-group input:focus, .form-group select:focus { outline: none; border-color: var(--focus-ring); background: rgba(255, 255, 255, 0.7); box-shadow: 0 0 0 4px rgba(200, 168, 232, 0.15); }
        
        .btn-calculate { width: 100%; padding: 18px; background: linear-gradient(135deg, #7ec8e8 0%, #c8a8e8 50%, #ff9eb5 100%); background-size: 200% 200%; color: white; border: none; border-radius: 16px; font-size: 1.1em; font-weight: 700; cursor: pointer; transition: all 0.4s ease; box-shadow: 0 8px 24px rgba(200, 168, 232, 0.3); font-family: inherit; }
        .btn-calculate:hover, .btn-calculate:focus { background-position: 100% 50%; transform: translateY(-3px); box-shadow: 0 12px 32px rgba(200, 168, 232, 0.4); outline: none; }
        
        .btn-copy { margin-top: 16px; padding: 12px 20px; background: rgba(255, 255, 255, 0.6); border: 1px solid rgba(255, 255, 255, 0.8); border-radius: 12px; font-size: 0.9em; font-weight: 600; color: var(--text-secondary); cursor: pointer; transition: all 0.3s ease; }
        .btn-copy:hover { background: rgba(255, 255, 255, 0.8); color: var(--text-primary); }
        
        .result-box { margin-top: 28px; padding: 28px; background: rgba(255, 255, 255, 0.5); border-radius: 20px; border: 1px solid rgba(255, 255, 255, 0.5); display: none; }
        .result-box.show { display: block; animation: slideUp 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        .result-box.success { background: linear-gradient(135deg, rgba(220, 240, 220, 0.6) 0%, rgba(200, 230, 200, 0.5) 100%); border-color: rgba(150, 210, 150, 0.5); }
        .result-box.warning { background: linear-gradient(135deg, rgba(255, 245, 225, 0.7) 0%, rgba(255, 235, 210, 0.6) 100%); border-color: rgba(230, 200, 150, 0.5); }
        .result-box.error { background: linear-gradient(135deg, rgba(255, 235, 235, 0.7) 0%, rgba(255, 225, 225, 0.6) 100%); border-color: rgba(230, 150, 150, 0.5); }
        
        @keyframes slideUp { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
        
        .result-item { display: flex; justify-content: space-between; align-items: center; padding: 14px 0; border-bottom: 1px dashed rgba(0, 0, 0, 0.08); }
        .result-item:last-of-type { border-bottom: none; }
        .result-label { color: var(--text-secondary); font-weight: 600; font-size: 0.95em; }
        .result-value { color: var(--text-primary); font-weight: 700; font-size: 1.05em; }
        
        .message { margin-top: 20px; padding: 16px; background: rgba(255, 255, 255, 0.6); border-radius: 16px; font-size: 0.95em; line-height: 1.8; color: var(--text-secondary); border: 1px solid rgba(255, 255, 255, 0.8); }
        
        .week-status-banner {
            margin-top: 20px;
            padding: 20px 24px;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 20px;
            display: flex;
            align-items: center;
            gap: 16px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.8);
            animation: fadeIn 0.6s ease;
        }
        .week-status-text {
            font-size: 1.1em;
            color: var(--text-primary);
            font-weight: 500;
            line-height: 1.5;
        }
        .week-status-text strong {
            color: #5a9cf0;
            font-weight: 800;
            font-size: 1.2em;
            background: linear-gradient(to bottom, transparent 60%, rgba(90, 156, 240, 0.15) 40%);
        }

        .checkup-summary-box {
            background: rgba(255, 255, 255, 0.6);
            padding: 16px;
            border-radius: 16px;
            margin-top: 24px;
            margin-bottom: 24px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.8);
        }
        .summary-text { font-size: 1.1em; color: var(--text-primary); }
        .summary-text strong { color: #5a9cf0; font-weight: 800; }
        
        .checkup-group { margin-bottom: 24px; }
        .group-header { margin-bottom: 12px; padding-left: 8px; border-left: 4px solid #7ec8e8; }
        .group-title { display: block; font-weight: 800; color: var(--text-primary); font-size: 1.05em; margin-bottom: 2px; }
        .group-desc { font-size: 0.85em; color: var(--text-secondary); }
        
        .schedule-item-new {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 14px 16px;
            background: rgba(255, 255, 255, 0.4);
            border-radius: 16px;
            margin-bottom: 8px;
            border: 1px solid rgba(255, 255, 255, 0.6);
            transition: all 0.2s ease;
        }
        .schedule-item-new:hover { background: rgba(255, 255, 255, 0.6); transform: translateX(4px); }
        .check-icon { font-size: 1em; margin-top: 2px; }
        .date-range { display: block; font-weight: 700; color: var(--text-primary); font-size: 1.05em; margin-bottom: 4px; }
        .week-desc { font-size: 0.85em; color: var(--text-secondary); }

        .timeline-step-container { margin-top: 32px; display: none; flex-direction: column; gap: 24px; }
        .timeline-step-container.show { display: flex; animation: slideUp 0.4s ease; }
        .timeline-step { position: relative; padding-left: 45px; padding-bottom: 10px; border-left: 2px dashed rgba(0, 0, 0, 0.1); }
        .timeline-step:last-child { border-left-color: transparent; }
        .timeline-dot { position: absolute; left: -11px; top: 0; width: 20px; height: 20px; border-radius: 50%; background: #fff; border: 4px solid #cbd5e0; box-shadow: 0 0 10px rgba(0,0,0,0.05); transition: all 0.3s ease; }
        
        .timeline-content { 
            background: rgba(255, 255, 255, 0.5); 
            padding: 20px 24px; 
            border-radius: 24px; 
            border: 1px solid rgba(255, 255, 255, 0.8); 
            display: flex; 
            justify-content: space-between; 
            align-items: flex-start;
            gap: 16px;
            transition: all 0.3s ease;
        }
        .timeline-info { flex: 1; }
        .timeline-step-title { font-weight: 700; color: var(--text-primary); margin-bottom: 6px; font-size: 1.05em; display: flex; align-items: center; gap: 8px; }
        .timeline-step-date { font-size: 0.85em; color: var(--text-secondary); margin-bottom: 10px; font-weight: 500; }
        .timeline-step-desc { font-size: 0.9em; color: var(--text-secondary); line-height: 1.6; }
        
        .timeline-step.active { border-left: 2px solid var(--dot-color); }
        .timeline-step.active .timeline-dot { 
            border-color: var(--dot-color); 
            transform: scale(1.3); 
            background: var(--dot-color);
            animation: pulse 2s infinite; 
        }
        .timeline-step.active .timeline-content { 
            background: #ffffff; 
            border: 2px solid var(--dot-color); 
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.08);
            transform: translateX(5px);
        }
        .timeline-step.active .timeline-step-title { color: var(--dot-color); }
        
        .shortcut-btn {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            padding: 8px 14px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: 700;
            color: var(--text-secondary);
            cursor: pointer;
            white-space: nowrap;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 4px;
        }
        .shortcut-btn:hover {
            background: rgba(255, 255, 255, 0.8);
            transform: translateY(-2px);
            color: var(--text-primary);
        }
        .timeline-step.active .shortcut-btn {
            background: var(--dot-color);
            color: white;
            border: none;
        }

        @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(126, 200, 232, 0.4); } 70% { box-shadow: 0 0 0 10px rgba(126, 200, 232, 0); } 100% { box-shadow: 0 0 0 0 rgba(126, 200, 232, 0); } }

        .landing-footer { margin-top: 60px; text-align: center; color: var(--text-secondary); font-size: 0.9em; opacity: 0.7; padding-bottom: 40px; line-height: 1.6; }
        .version-badge { display: inline-block; margin-top: 10px; padding: 4px 12px; background: rgba(0, 0, 0, 0.05); border-radius: 50px; font-size: 0.8em; font-weight: 600; }

        @media (max-width: 1024px) {
            .landing-subtitle { white-space: normal; }
        }
        @media (max-width: 768px) {
            .landing-title { font-size: 2.2em; }
            .menu-grid { grid-template-columns: 1fr; }
            .glass-card { padding: 24px 20px; }
            .timeline-content { flex-direction: column; }
            .shortcut-btn { align-self: flex-end; }
        }
    </style>
</head>
<body>
    <div class="bg-decoration bg-deco-1" aria-hidden="true"></div>
    <div class="bg-decoration bg-deco-2" aria-hidden="true"></div>
    <div class="bg-decoration bg-deco-3" aria-hidden="true"></div>
    <div class="bg-decoration bg-deco-4" aria-hidden="true"></div>

    <main id="landing" class="page active">
        <div class="landing-page">
            <header class="landing-header">
                <div class="landing-logo">SUPERCENT</div>
                <h1 class="landing-title">ëª¨ì„±ë³´í˜¸ ê°€ì´ë“œ</h1>
                <p class="landing-subtitle">
                    ìƒˆë¡œìš´ ìƒëª…ê³¼ í•¨ê»˜í•˜ì‹¤ ì•ìœ¼ë¡œì˜ ë‚ ë“¤ì„ <span class="highlight">ìŠˆí¼ì„¼íŠ¸ê°€ ì§„ì‹¬ì„ ë‹¤í•´ ë„ì™€ë“œë¦´ê²Œìš”</span> ğŸ’•
                </p>
            </header>
            
            <nav class="menu-grid">
                <button class="menu-card pink" data-page="maternity" aria-label="ì¶œì‚°ì „í›„íœ´ê°€ ê³„ì‚°ê¸° ì´ë™">
                    <span class="menu-card-badge">ì¶œì‚°ì „í›„íœ´ê°€</span>
                    <p class="menu-card-desc">ì¶œì‚° ì˜ˆì •ì¼ì— ë§ì¶° <span class="highlight">íœ´ê°€ ì‹œì‘ì¼</span>ê³¼<br><span class="highlight">ë³µê·€ì¼</span>ì„ ê³„ì‚°í•´ ë“œë ¤ìš”!</p>
                    <div class="menu-icon">ğŸ¤°</div>
                </button>
                
                <button class="menu-card blue" data-page="checkup" aria-label="íƒœì•„ê²€ì§„íœ´ê°€ ì¼ì • í™•ì¸ ì´ë™">
                    <span class="menu-card-badge">íƒœì•„ê²€ì§„íœ´ê°€</span>
                    <p class="menu-card-desc">ì„ì‹  ì£¼ì°¨ë³„ <span class="highlight">ê²€ì§„ ì£¼ê¸°</span>ì™€<br><span class="highlight">ë‚¨ì€ íœ´ê°€ ì¼ìˆ˜</span>ë¥¼ í™•ì¸í•˜ì„¸ìš”!</p>
                    <div class="menu-icon">ğŸ¥</div>
                </button>
                
                <button class="menu-card purple" data-page="workhour" aria-label="ì„ì‹ ê¸° ê·¼ë¡œì‹œê°„ ë‹¨ì¶• í™•ì¸ ì´ë™">
                    <span class="menu-card-badge">ì„ì‹ ê¸° ê·¼ë¡œì‹œê°„ ë‹¨ì¶•</span>
                    <p class="menu-card-desc">ì„ì‹  ì¤‘ <span class="highlight">ê·¼ë¡œì‹œê°„ ë‹¨ì¶•</span> ëŒ€ìƒ ì—¬ë¶€,<br>í•¨ê»˜ <span class="highlight">í™•ì¸í•´ë³´ì„¸ìš”!</span></p>
                    <div class="menu-icon">â°</div>
                </button>
                
                <button class="menu-card yellow" data-page="parental" aria-label="ìœ¡ì•„íœ´ì§ ê³„ì‚°ê¸° ì´ë™">
                    <span class="menu-card-badge">ìœ¡ì•„íœ´ì§</span>
                    <p class="menu-card-desc">ìœ¡ì•„íœ´ì§ì„ <span class="highlight">í¬ë§í•˜ì‹¤ ê²½ìš°</span>,<br>ì‚¬ìš© ê°€ëŠ¥í•œ <span class="highlight">ì¼ì •ì„ í™•ì¸í•´ë³´ì„¸ìš”!</span></p>
                    <div class="menu-icon">ğŸ‘¶</div>
                </button>
                
                <button class="menu-card pink" data-page="parentalwork" aria-label="ìœ¡ì•„ê¸° ê·¼ë¡œì‹œê°„ ë‹¨ì¶• í™•ì¸ ì´ë™">
                    <span class="menu-card-badge">ìœ¡ì•„ê¸° ê·¼ë¡œì‹œê°„ ë‹¨ì¶•</span>
                    <p class="menu-card-desc">ìœ¡ì•„ê¸° <span class="highlight">ê·¼ë¡œì‹œê°„ ë‹¨ì¶•</span> ì‚¬ìš© ê°€ëŠ¥ ì—¬ë¶€,<br><span class="highlight">í™•ì¸í•´ë³´ì„¸ìš”!</span></p>
                    <div class="menu-icon">ğŸ•</div>
                </button>
                
                <button class="menu-card blue" data-page="timeline" aria-label="ëª¨ì„±ë³´í˜¸ í•œëˆˆì— í™•ì¸í•˜ê¸° ì´ë™">
                    <span class="menu-card-badge">ëª¨ì„±ë³´í˜¸ í•œëˆˆì— í™•ì¸í•˜ê¸°</span>
                    <p class="menu-card-desc">ë‚´ <span class="highlight">ì¼ì •ì— ë§ì¶°</span> ì‹ ì²­ê°€ëŠ¥í•œ<br><span class="highlight">ì œë„ë“¤ì„ í™•ì¸í•´ë³´ì„¸ìš”!</span></p>
                    <div class="menu-icon">ğŸ“…</div>
                </button>
            </nav>
            
            <footer class="landing-footer">
                ì´ì™¸ì— ì¶”ê°€ì ì¸ ë¬¸ì˜ì‚¬í•­ì´ ìˆìœ¼ì‹œë‹¤ë©´ í¸í•˜ê²Œ HRíŒ€ìœ¼ë¡œ ë¬¸ì˜ì£¼ì„¸ìš”!<br>
                ìŠˆí¼ì„¼íŠ¸ê°€ ì–¸ì œë‚˜ í•¨ê»˜í•©ë‹ˆë‹¤ ğŸŒ¸<br>
                <div class="version-badge">ver. 202601</div>
            </footer>
        </div>
    </main>

    <section id="maternity" class="page">
        <div class="calculator-page">
            <button class="back-button" data-page="landing">â† ëŒì•„ê°€ê¸°</button>
            <div class="calc-header">
                <div class="calc-icon">ğŸ¤°</div>
                <h2 class="calc-title">ì¶œì‚°ì „í›„íœ´ê°€</h2>
                <p class="calc-subtitle-small">ì¶œì‚° ì˜ˆì •ì¼ê³¼ í¬ë§ ì‹œì‘ì¼ì„ ì…ë ¥í•˜ì‹œë©´ íœ´ê°€ ì¼ì •ì„ ê³„ì‚°í•´ ë“œë¦´ê²Œìš”!</p>
            </div>
            <div class="info-box">
                <h3 class="info-box-title">ğŸ“‹ ì¶œì‚°ì „í›„íœ´ê°€ ê¸°ì¤€</h3>
                <div class="info-item"><span class="info-label">ë‹¨íƒœì•„</span><span class="info-value">ì´ 90ì¼ (ì¶œì‚° í›„ <strong>45ì¼ ì´ìƒ</strong> í•„ìˆ˜)</span></div>
                <div class="info-item"><span class="info-label">ë‹¤íƒœì•„</span><span class="info-value">ì´ 120ì¼ (ì¶œì‚° í›„ <strong>60ì¼ ì´ìƒ</strong> í•„ìˆ˜)</span></div>
            </div>
            <div class="glass-card pink">
                <div class="form-group"><label for="maternityDueDate">ì¶œì‚° ì˜ˆì •ì¼</label><input type="date" id="maternityDueDate" required></div>
                <div class="form-group"><label for="maternityStartDate">í¬ë§ ì‹œì‘ì¼</label><input type="date" id="maternityStartDate" required></div>
                <div class="form-group"><label for="birthType">ì¶œì‚° í˜•íƒœ</label><select id="birthType"><option value="single">ë‹¨íƒœì•„</option><option value="multiple">ë‹¤íƒœì•„ (ìŒë‘¥ì´ ì´ìƒ)</option></select></div>
                <button class="btn-calculate" id="btnCalculateMaternity">ê³„ì‚°í•˜ê¸°</button>
                <div id="maternityResult" class="result-box" aria-live="polite"></div>
            </div>
        </div>
    </section>

    <section id="checkup" class="page">
        <div class="calculator-page">
            <button class="back-button" data-page="landing">â† ëŒì•„ê°€ê¸°</button>
            <div class="calc-header">
                <div class="calc-icon">ğŸ¥</div>
                <h2 class="calc-title">íƒœì•„ê²€ì§„íœ´ê°€</h2>
                <p class="calc-subtitle-small">ì„ì‹  ì£¼ì°¨ë³„ ê²€ì§„ ì£¼ê¸°ì™€ ë‚¨ì€ íœ´ê°€ ì¼ìˆ˜ë¥¼ í™•ì¸í•˜ì„¸ìš”!</p>
            </div>
            <div class="info-box">
                <h3 class="info-box-title">ğŸ“‹ íƒœì•„ê²€ì§„íœ´ê°€ ì£¼ê¸°</h3>
                <div class="info-item"><span class="info-label">~28ì£¼</span><span class="info-value">4ì£¼ë§ˆë‹¤ 1íšŒ</span></div>
                <div class="info-item"><span class="info-label">29ì£¼~36ì£¼</span><span class="info-value">2ì£¼ë§ˆë‹¤ 1íšŒ</span></div>
                <div class="info-item"><span class="info-label">37ì£¼~</span><span class="info-value">1ì£¼ë§ˆë‹¤ 1íšŒ</span></div>
            </div>
            <div class="glass-card blue">
                <div class="form-group"><label for="checkupDueDate">ì¶œì‚° ì˜ˆì •ì¼</label><input type="date" id="checkupDueDate" required></div>
                <div class="form-group"><label for="lastCheckupDate">ìµœê·¼ ê²€ì§„ ì‚¬ìš©ì¼ (ì„ íƒ)</label><input type="date" id="lastCheckupDate"></div>
                <button class="btn-calculate" id="btnCalculateCheckup">ì¼ì • ê³„ì‚°í•˜ê¸°</button>
                <div id="checkupResult" class="week-status-container" aria-live="polite"></div>
                <div id="checkupSchedule" class="schedule-container" style="margin-top:24px;"></div>
            </div>
        </div>
    </section>

    <section id="workhour" class="page">
        <div class="calculator-page">
            <button class="back-button" data-page="landing">â† ëŒì•„ê°€ê¸°</button>
            <div class="calc-header">
                <div class="calc-icon">â°</div>
                <h2 class="calc-title">ì„ì‹ ê¸° ê·¼ë¡œì‹œê°„ ë‹¨ì¶•</h2>
                <p class="calc-subtitle-small">ì„ì‹  ì¤‘ ê·¼ë¡œì‹œê°„ ë‹¨ì¶• ëŒ€ìƒ ì—¬ë¶€ì™€ ì‚¬ìš© ê°€ëŠ¥í•œ ê¸°ê°„ì„ í™•ì¸í•´ë³´ì„¸ìš”!</p>
            </div>
            <div class="glass-card purple">
                <div class="form-group"><label for="workHourDueDate">ì¶œì‚° ì˜ˆì •ì¼</label><input type="date" id="workHourDueDate" required></div>
                <div class="form-group"><label for="highRisk">ê³ ìœ„í—˜ ì„ì‚°ë¶€ ì—¬ë¶€</label><select id="highRisk"><option value="no">ì•„ë‹ˆìš”</option><option value="yes">ì˜ˆ (ì§„ë‹¨ì„œ ë³´ìœ )</option></select></div>
                <button class="btn-calculate" id="btnCalculateWorkHour">ì‚¬ìš© ê°€ëŠ¥ ê¸°ê°„ í™•ì¸</button>
                <div id="workHourResult" class="result-box" aria-live="polite"></div>
            </div>
        </div>
    </section>

    <section id="parental" class="page">
        <div class="calculator-page">
            <button class="back-button" data-page="landing">â† ëŒì•„ê°€ê¸°</button>
            <div class="calc-header">
                <div class="calc-icon">ğŸ‘¶</div>
                <h2 class="calc-title">ìœ¡ì•„íœ´ì§</h2>
                <p class="calc-subtitle-small">ìœ¡ì•„íœ´ì§ ê¸°ê°„ê³¼ ë¶€ëª¨ìœ¡ì•„íœ´ì§ í˜œíƒì„ ì•ˆë‚´í•´ ë“œë ¤ìš”!</p>
            </div>
            <div class="glass-card yellow">
                <div class="form-group"><label for="childBirthDate">ìë…€ ìƒë…„ì›”ì¼</label><input type="date" id="childBirthDate" required></div>
                <div class="form-group"><label for="parentalLeaveStart">í¬ë§ ì‹œì‘ì¼</label><input type="date" id="parentalLeaveStart" required></div>
                <div class="form-group"><label for="parentalLeaveDuration">ì‚¬ìš© ê¸°ê°„ (ê°œì›”)</label><input type="number" id="parentalLeaveDuration" value="12" min="1" max="12"></div>
                <button class="btn-calculate" id="btnCalculateParental">ê³„ì‚°í•˜ê¸°</button>
                <div id="parentalResult" class="result-box" aria-live="polite"></div>
            </div>
        </div>
    </section>

    <section id="parentalwork" class="page">
        <div class="calculator-page">
            <button class="back-button" data-page="landing">â† ëŒì•„ê°€ê¸°</button>
            <div class="calc-header">
                <div class="calc-icon">ğŸ•</div>
                <h2 class="calc-title">ìœ¡ì•„ê¸° ê·¼ë¡œì‹œê°„ ë‹¨ì¶•</h2>
                <p class="calc-subtitle-small">ìœ¡ì•„ê¸° ê·¼ë¡œì‹œê°„ ë‹¨ì¶• ì‚¬ìš© ê°€ëŠ¥ ì—¬ë¶€, í™•ì¸í•´ë³´ì„¸ìš”!</p>
            </div>
            <div class="glass-card pink">
                <div class="form-group"><label for="childAge">ìë…€ ë‚˜ì´ (ë§Œ)</label><input type="number" id="childAge" min="0" max="12" placeholder="0~12"></div>
                <div class="form-group"><label for="usedParentalMonths">ì´ë¯¸ ì‚¬ìš©í•œ ìœ¡ì•„íœ´ì§ ê¸°ê°„ (ê°œì›”)</label><input type="number" id="usedParentalMonths" value="0" min="0" max="12"></div>
                <button class="btn-calculate" id="btnCalculateParentalWork">ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸</button>
                <div id="parentalWorkResult" class="result-box" aria-live="polite"></div>
            </div>
        </div>
    </section>

    <section id="timeline" class="page">
        <div class="calculator-page">
            <button class="back-button" data-page="landing">â† ëŒì•„ê°€ê¸°</button>
            <div class="calc-header">
                <div class="calc-icon">ğŸ“…</div>
                <h2 class="calc-title">ëª¨ì„±ë³´í˜¸ í•œëˆˆì— í™•ì¸í•˜ê¸°</h2>
                <p class="calc-subtitle-small">ë‚´ ì¼ì •ì— ë§ì¶° ì‹ ì²­ê°€ëŠ¥í•œ ì œë„ë“¤ì„ í™•ì¸í•´ë³´ì„¸ìš”!</p>
            </div>
            <div class="glass-card blue">
                <div class="form-group"><label for="smartDueDate">ìë…€ì˜ ì¶œì‚°(ì˜ˆì •)ì¼</label><input type="date" id="smartDueDate" required></div>
                <button class="btn-calculate" id="btnGenerateSmartTimeline">íƒ€ì„ë¼ì¸ í™•ì¸í•˜ê¸°</button>
                
                <div id="smartTimelineResult" class="result-box" aria-live="polite"></div>
                <div id="smartTimelineContainer" class="timeline-step-container"></div>
            </div>
        </div>
    </section>

    <script>
        // --- Utilities ---
        const $ = (id) => document.getElementById(id);

        const DateUtils = {
            format(date) {
                if (!date || isNaN(date.getTime())) return "-";
                return `${date.getFullYear()}ë…„ ${String(date.getMonth() + 1).padStart(2, '0')}ì›” ${String(date.getDate()).padStart(2, '0')}ì¼`;
            },
            formatCompact(date) {
                if (!date || isNaN(date.getTime())) return "-";
                return `${String(date.getMonth() + 1).padStart(2, '0')}ì›” ${String(date.getDate()).padStart(2, '0')}ì¼`;
            },
            addDays(date, days) {
                const result = new Date(date);
                result.setDate(result.getDate() + days);
                return result;
            },
            addYears(date, years) {
                const result = new Date(date);
                result.setFullYear(result.getFullYear() + years);
                return result;
            },
            diffDays(d1, d2) {
                const date1 = new Date(d1.getFullYear(), d1.getMonth(), d1.getDate());
                const date2 = new Date(d2.getFullYear(), d2.getMonth(), d2.getDate());
                const diffTime = (date2.getTime() - date1.getTime());
                return Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            },
            getAge(birthDate, referenceDate = new Date()) {
                let age = referenceDate.getFullYear() - birthDate.getFullYear();
                const m = referenceDate.getMonth() - birthDate.getMonth();
                if (m < 0 || (m === 0 && referenceDate.getDate() < birthDate.getDate())) age--;
                return age;
            }
        };

        const UI = {
            showResult(boxId, status, html) {
                const box = $(boxId);
                if (box) {
                    box.className = `result-box ${status} show`;
                    box.innerHTML = html;
                }
            },
            hideResults() {
                document.querySelectorAll('.result-box').forEach(el => el.classList.remove('show'));
                document.querySelectorAll('.schedule-container, .timeline-step-container, .week-status-container').forEach(el => {
                    el.classList.remove('show');
                    el.innerHTML = '';
                });
            }
        };

        // --- Page Navigation ---
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            const target = $(pageId);
            if (target) {
                target.classList.add('active');
                window.scrollTo(0, 0);
                const firstBtn = target.querySelector('.back-button');
                if (firstBtn) firstBtn.focus();
            }
        }

        // --- Calculation Logic ---

        // 1. Maternity Leave
        function calculateMaternityLeave() {
            const dueVal = $("maternityDueDate").value;
            const startVal = $("maternityStartDate").value;
            const type = $("birthType").value;

            if (!dueVal || !startVal) {
                UI.showResult('maternityResult', 'error', '<div class="message">ğŸ“ ì¶œì‚° ì˜ˆì •ì¼ê³¼ íœ´ê°€ ì‹œì‘ì¼ì„ ëª¨ë‘ ì…ë ¥í•´ ì£¼ì„¸ìš”.</div>');
                return;
            }

            const dueDate = new Date(dueVal);
            const startDate = new Date(startVal);
            const totalDays = (type === 'multiple') ? 120 : 90;
            const minPostDays = (type === 'multiple') ? 60 : 45;

            const endDate = DateUtils.addDays(startDate, totalDays - 1);
            const returnDate = DateUtils.addDays(endDate, 1);

            const postDays = DateUtils.diffDays(dueDate, endDate) + 1; 
            const preDays = totalDays - postDays;

            let status = 'success';
            let msg = 'âœ… ë²•ì  ê¸°ì¤€(ì¶œì‚° í›„ 45ì¼ ì´ìƒ í™•ë³´)ì— ì í•©í•œ ì¼ì •ì´ì—ìš”!';

            if (postDays < minPostDays) {
                status = 'error';
                const recommendedStart = DateUtils.addDays(dueDate, -(totalDays - minPostDays));
                msg = `âŒ ì¶œì‚° í›„ íœ´ê°€ ê¸°ê°„ì´ ì¡°ê¸ˆ ë¶€ì¡±í•´ìš” (ìµœì†Œ ${minPostDays}ì¼ í™•ë³´ í•„ìˆ˜).<br>ëŠ¦ì–´ë„ <strong>${DateUtils.format(recommendedStart)}</strong>ì—ëŠ” íœ´ê°€ë¥¼ ì‹œì‘í•˜ì…”ì•¼ í•´ìš”.`;
            } else if (startDate > dueDate) {
                status = 'warning';
                msg = 'âš ï¸ íœ´ê°€ ì‹œì‘ì¼ì´ ì¶œì‚° ì˜ˆì •ì¼ë³´ë‹¤ ëŠ¦ì–´ìš”. ì¶œì‚° ì „ ê±´ê°• ê´€ë¦¬ì— ê¼­ ìœ ì˜í•˜ì„¸ìš”!';
            }

            const startFormatted = DateUtils.format(startDate);
            const endFormatted = DateUtils.format(endDate);
            const returnFormatted = DateUtils.format(returnDate);

            const html = `
                <div class="result-item"><span class="result-label">ì´ íœ´ê°€ ê¸°ê°„</span><span class="result-value">${totalDays}ì¼</span></div>
                <div class="result-item"><span class="result-label">ì¶œì‚° ì „ / í›„</span><span class="result-value">${preDays}ì¼ / ${postDays}ì¼</span></div>
                <div class="result-item"><span class="result-label">íœ´ê°€ ì¢…ë£Œì¼</span><span class="result-value">${endFormatted}</span></div>
                <div class="result-item"><span class="result-label">ë³µê·€ ì˜ˆì •ì¼</span><span class="result-value">${returnFormatted}</span></div>
                <div class="message">${msg}</div>
                <button class="btn-copy" onclick="navigator.clipboard.writeText('ì¶œì‚°íœ´ê°€ ê³„íš: ${startFormatted} ~ ${endFormatted} (ë³µê·€: ${returnFormatted})').then(()=>alert('í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆì–´ìš”!'))">ê²°ê³¼ ë³µì‚¬í•˜ê¸°</button>
            `;
            UI.showResult('maternityResult', status, html);
        }

        // 2. Checkup Leave
        function calculateCheckupLeave() {
            const dueVal = $("checkupDueDate").value;
            const lastVal = $("lastCheckupDate").value;

            if (!dueVal) {
                const resBox = $("checkupResult");
                if(resBox) resBox.innerHTML = '<div class="message" style="color:#e53e3e">ğŸ“ ì¶œì‚° ì˜ˆì •ì¼ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”.</div>';
                return;
            }

            const dueDate = new Date(dueVal);
            const today = new Date();
            today.setHours(0,0,0,0);
            const lastCheckupDate = lastVal ? new Date(lastVal) : null;
            if (lastCheckupDate) lastCheckupDate.setHours(0,0,0,0);

            const pregStartDate = DateUtils.addDays(dueDate, -280);
            const diffDays = DateUtils.diffDays(pregStartDate, today);
            const currentWeek = Math.floor(diffDays / 7) + 1;

            if (currentWeek > 42) {
                const resBox = $("checkupResult");
                if(resBox) resBox.innerHTML = '<div class="message" style="color:#e53e3e">âŒ ì´ë¯¸ ì¶œì‚° ì£¼ê¸°ë¥¼ ì´ˆê³¼í•œ ê²ƒ ê°™ì•„ìš”. ë‚ ì§œë¥¼ ë‹¤ì‹œ í™•ì¸í•´ ì£¼ì„¸ìš”!</div>';
                return;
            }

            const windows = [
                { sW: 1, eW: 4, label: '1êµ¬ê°„' }, { sW: 5, eW: 8, label: '1êµ¬ê°„' }, { sW: 9, eW: 12, label: '1êµ¬ê°„' },
                { sW: 13, eW: 16, label: '1êµ¬ê°„' }, { sW: 17, eW: 20, label: '1êµ¬ê°„' }, { sW: 21, eW: 24, label: '1êµ¬ê°„' },
                { sW: 25, eW: 28, label: '1êµ¬ê°„' },
                { sW: 29, eW: 30, label: '2êµ¬ê°„' }, { sW: 31, eW: 32, label: '2êµ¬ê°„' }, { sW: 33, eW: 34, label: '2êµ¬ê°„' },
                { sW: 35, eW: 36, label: '2êµ¬ê°„' },
                { sW: 37, eW: 37, label: '3êµ¬ê°„' }, { sW: 38, eW: 38, label: '3êµ¬ê°„' }, { sW: 39, eW: 39, label: '3êµ¬ê°„' },
                { sW: 40, eW: 40, label: '3êµ¬ê°„' }
            ];

            const filterBaseDate = lastCheckupDate || today;
            const futureCheckups = windows.map(win => {
                const start = DateUtils.addDays(pregStartDate, (win.sW - 1) * 7);
                const end = DateUtils.addDays(pregStartDate, (win.eW * 7) - 1);
                return { ...win, start, end };
            }).filter(win => win.end > filterBaseDate);

            const groups = {
                '1êµ¬ê°„': { title: '[1êµ¬ê°„ - 4ì£¼ ì£¼ê¸°]', desc: '28ì£¼ê¹Œì§€, 4ì£¼ë§ˆë‹¤ 1íšŒ', items: [] },
                '2êµ¬ê°„': { title: '[2êµ¬ê°„ - 2ì£¼ ì£¼ê¸°]', desc: '29ì£¼~36ì£¼, 2ì£¼ë§ˆë‹¤ 1íšŒ', items: [] },
                '3êµ¬ê°„': { title: '[3êµ¬ê°„ - 1ì£¼ ì£¼ê¸°]', desc: '37ì£¼ë¶€í„°, 1ì£¼ë§ˆë‹¤ 1íšŒ', items: [] }
            };

            futureCheckups.forEach(item => {
                groups[item.label].items.push(item);
            });

            let listHtml = '';
            Object.values(groups).forEach(group => {
                if (group.items.length > 0) {
                    listHtml += `
                        <div class="checkup-group">
                            <div class="group-header">
                                <span class="group-title">${group.title}</span>
                                <span class="group-desc">${group.desc}</span>
                            </div>
                            ${group.items.map(it => `
                                <div class="schedule-item-new">
                                    <span class="check-icon">âœ…</span>
                                    <div class="schedule-info">
                                        <span class="date-range">${DateUtils.formatCompact(it.start)} ~ ${DateUtils.formatCompact(it.end)} ì‚¬ì´ 1íšŒ</span>
                                        <span class="week-desc">(${it.sW}ì£¼~${it.eW}ì£¼ì°¨ ê¶Œì¥)</span>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    `;
                }
            });

            const statusBox = $("checkupResult");
            if (statusBox) {
                statusBox.innerHTML = `
                    <div class="week-status-banner">
                        <span style="font-size: 1.8em;">ğŸ¥</span>
                        <div class="week-status-text">
                            í˜„ì¬ <strong>${currentWeek}ì£¼ì°¨</strong>ì‹œêµ°ìš”!<br>ì•ìœ¼ë¡œì˜ ê²€ì§„íœ´ê°€ ì¼ì •ì„ ì•ˆë‚´í•´ ë“œë¦´ê²Œìš”.
                        </div>
                    </div>
                `;
                statusBox.classList.add('show');
            }

            const container = $("checkupSchedule");
            if (container) {
                container.innerHTML = `
                    <div class="checkup-summary-box">
                        <div class="summary-text">ì´ <strong>${futureCheckups.length}íšŒ</strong> ì‚¬ìš© ê°€ëŠ¥í•´ìš”! <small>(ì—°ê°„ ìµœëŒ€ 10íšŒ í•œë„ ë‚´)</small></div>
                    </div>
                    ${listHtml}
                `;
                container.classList.add('show');
            }
        }

        // 3. Work Hour Reduction
        function calculateWorkHourReduction() {
            const dueVal = $("workHourDueDate").value;
            const risk = $("highRisk").value === 'yes';

            if (!dueVal) {
                UI.showResult('workHourResult', 'error', '<div class="message">ğŸ“ ì¶œì‚° ì˜ˆì •ì¼ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”.</div>');
                return;
            }

            const dueDate = new Date(dueVal);
            const today = new Date();
            today.setHours(0,0,0,0);

            const pregnancyStart = DateUtils.addDays(dueDate, -280);
            const earlyEnd = DateUtils.addDays(pregnancyStart, 84);
            const lateStart = DateUtils.addDays(pregnancyStart, 218);

            let msg = "";
            let status = 'success';

            if (risk) {
                msg = "âœ… ê³ ìœ„í—˜ ì„ì‚°ë¶€ë¡œ ì§„ë‹¨ë°›ìœ¼ì‹  ê²½ìš°, <strong>ì„ì‹  ì „ ê¸°ê°„ ë™ì•ˆ</strong> ê·¼ë¡œì‹œê°„ ë‹¨ì¶•ì„ ì‹ ì²­í•˜ì‹¤ ìˆ˜ ìˆì–´ìš”!";
            } else {
                const isEarly = today <= earlyEnd;
                const isLate = today >= lateStart && today <= dueDate;
                
                if (isEarly || isLate) {
                    msg = `âœ… í˜„ì¬ ë‹¨ì¶• ê·¼ë¬´ ì‹ ì²­ì´ ê°€ëŠ¥í•œ ê¸°ê°„ì´ì—ìš”!`;
                } else {
                    status = 'warning';
                    msg = `âš ï¸ í˜„ì¬ëŠ” ë²•ì • ë‹¨ì¶• ê·¼ë¬´ ëŒ€ìƒ ê¸°ê°„ì´ ì•„ë‹ˆì—ìš”. ì•„ë˜ì˜ ëŒ€ìƒ ê¸°ê°„ì„ í™•ì¸í•´ ì£¼ì„¸ìš”.`;
                }
            }

            const html = `
                <div class="result-item"><span class="result-label">ë‹¨ì¶• ì‹œê°„</span><span class="result-value">1ì¼ ìµœëŒ€ 2ì‹œê°„</span></div>
                <div class="info-box" style="margin-top:20px; padding:15px; background:rgba(255,255,255,0.4);">
                    <div style="font-weight:700; margin-bottom:10px; font-size:0.95em;">ğŸ“… ì‚¬ìš© ê°€ëŠ¥ ê¸°ê°„ ìƒì„¸</div>
                    <div class="result-item"><span class="result-label">ì´ˆê¸° (12ì£¼ ì´ë‚´)</span><span class="result-value">${DateUtils.format(pregnancyStart)} ~ ${DateUtils.format(earlyEnd)}</span></div>
                    <div class="result-item"><span class="result-label">í›„ê¸° (31ì£¼ 1ì¼ ì´í›„)</span><span class="result-value">${DateUtils.format(lateStart)} ~ ${DateUtils.format(dueDate)}</span></div>
                </div>
                <div class="message">${msg}<br><br>ğŸ’¡ ë‹¨ì¶• ì‹œê°„ì€ 1ì¼ ìµœëŒ€ 2ì‹œê°„ì´ë©°, ì„ê¸ˆ ì‚­ê° ì—†ì´ ë§¤ì¼ ë‹¨ì¶•í•˜ì—¬ ê·¼ë¬´í•˜ì‹¤ ìˆ˜ ìˆì–´ìš”. <br>ë‹¨ì¶• ì‹œê°„ì€ ìƒí™©ì— ë”°ë¼ ìœ ë™ì ìœ¼ë¡œ ì¡°ì ˆ ê°€ëŠ¥í•´ìš”!</div>
            `;
            UI.showResult('workHourResult', status, html);
        }

        // 4. Parental Leave (ë³€ê²½ë¨: ì‹œì‘ì¼ ê¸°ì¤€ ë‚˜ì´ ê³„ì‚°)
        function calculateParentalLeave() {
            const birthVal = $("childBirthDate").value;
            const startVal = $("parentalLeaveStart").value;
            const months = parseInt($("parentalLeaveDuration").value);

            if (!birthVal || !startVal || isNaN(months)) {
                UI.showResult('parentalResult', 'error', '<div class="message">ğŸ“ ìë…€ ìƒë…„ì›”ì¼ê³¼ ì‹œì‘ì¼, ì‚¬ìš© ê¸°ê°„ì„ ëª¨ë‘ ì…ë ¥í•´ ì£¼ì„¸ìš”.</div>');
                return;
            }

            const birthDate = new Date(birthVal);
            const startDate = new Date(startVal);
            // ìë…€ ë‚˜ì´ ê³„ì‚° ê¸°ì¤€ì„ 'íœ´ì§ ì‹œì‘ì¼'ë¡œ ë³€ê²½
            const ageAtStart = DateUtils.getAge(birthDate, startDate);

            if (ageAtStart > 8) {
                UI.showResult('parentalResult', 'error', `<div class="message">âŒ í¬ë§ ì‹œì‘ì¼(${DateUtils.format(startDate)}) ê¸°ì¤€ ìë…€ê°€ ë§Œ ${ageAtStart}ì„¸ê°€ ë©ë‹ˆë‹¤. ìœ¡ì•„íœ´ì§ì€ ì‹œì‘ì¼ ê¸°ì¤€ ë§Œ 8ì„¸(ë˜ëŠ” ì´ˆë“± 2í•™ë…„) ì´í•˜ì¼ ë•Œë§Œ ì‹ ì²­ ê°€ëŠ¥í•´ìš”.</div>`);
                return;
            }

            const endDate = new Date(startDate);
            endDate.setMonth(endDate.getMonth() + months);
            endDate.setDate(endDate.getDate() - 1);

            const html = `
                <div class="result-item"><span class="result-label">ìë…€ ë‚˜ì´ (ì‹œì‘ì¼ ê¸°ì¤€)</span><span class="result-value">ë§Œ ${ageAtStart}ì„¸</span></div>
                <div class="result-item"><span class="result-label">ì‚¬ìš© ê¸°ê°„</span><span class="result-value">${months}ê°œì›”</span></div>
                <div class="result-item"><span class="result-label">íœ´ì§ ì¢…ë£Œì¼</span><span class="result-value">${DateUtils.format(endDate)}</span></div>
                <div class="result-item"><span class="result-label">ë³µê·€ ì˜ˆì •ì¼</span><span class="result-value">${DateUtils.format(DateUtils.addDays(endDate, 1))}</span></div>
                <div class="message">âœ… ì‹ ì²­ ê°€ëŠ¥í•œ ëŒ€ìƒì´ì—ìš”. ìµœëŒ€ 3íšŒê¹Œì§€ ë¶„í•  ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹ˆ HRíŒ€ê³¼ ìƒì˜í•´ ë³´ì„¸ìš”!</div>
            `;
            UI.showResult('parentalResult', 'success', html);
        }

        // 5. Parental Work Reduction
        function calculateParentalWorkReduction() {
            const age = parseInt($("childAge").value);
            const usedMonths = parseInt($("usedParentalMonths").value);

            if (isNaN(age)) {
                UI.showResult('parentalWorkResult', 'error', '<div class="message">ğŸ“ ìë…€ ë‚˜ì´ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”.</div>');
                return;
            }

            if (age > 8) {
                UI.showResult('parentalWorkResult', 'error', '<div class="message">âŒ ìœ¡ì•„ê¸° ê·¼ë¡œì‹œê°„ ë‹¨ì¶•ì€ ë§Œ 8ì„¸ ì´í•˜ ìë…€ê°€ ëŒ€ìƒì´ì—ìš”.</div>');
                return;
            }

            const remainMonths = 12 - usedMonths + 12;

            const html = `
                <div class="result-item"><span class="result-label">ë‹¨ì¶• í›„ ê·¼ë¬´ì‹œê°„</span><span class="result-value">ì£¼ 15~35ì‹œê°„</span></div>
                <div class="result-item"><span class="result-label">ìµœëŒ€ ê°€ëŠ¥ ê¸°ê°„</span><span class="result-value">ìµœëŒ€ ${remainMonths}ê°œì›”</span></div>
                <div class="message">âœ… ìœ¡ì•„ê¸° ê·¼ë¡œì‹œê°„ ë‹¨ì¶• ëŒ€ìƒì´ì—ìš”! ìœ¡ì•„íœ´ì§ ë¯¸ì‚¬ìš©ë¶„ì€ ë‹¨ì¶• ê¸°ê°„ìœ¼ë¡œ í•©ì‚°í•˜ì—¬ ì‚¬ìš©í•˜ì‹¤ ìˆ˜ ìˆì–´ìš”.</div>
            `;
            UI.showResult('parentalWorkResult', 'success', html);
        }

        // 6. Smart Protection Timeline (ë³€ê²½ë¨: referenceDate íŒŒë¼ë¯¸í„° ì ìš©)
        function generateSmartTimeline() {
            const dueVal = $("smartDueDate").value;
            if (!dueVal) {
                UI.showResult('smartTimelineResult', 'error', '<div class="message">ğŸ“ ìë…€ì˜ ì¶œì‚°(ì˜ˆì •)ì¼ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”.</div>');
                return;
            }

            const today = new Date();
            today.setHours(0,0,0,0);
            const dueDate = new Date(dueVal);
            const isAfterBirth = today > dueDate;
            
            const pregStart = DateUtils.addDays(dueDate, -280);
            const preg12w = DateUtils.addDays(pregStart, 84);
            const preg31w1d = DateUtils.addDays(pregStart, 218);
            const childAge8 = DateUtils.addYears(dueDate, 8);

            let currentStatus = isAfterBirth ? "ğŸŒ» ì§€ê¸ˆì€ ë“ ë“ í•œ ìœ¡ì•„ê¸°ì˜ˆìš”!" : "ğŸŒ± ì§€ê¸ˆì€ ì†Œì¤‘í•œ ì„ì‹ ê¸°ì˜ˆìš”!";
            let currentDesc = isAfterBirth 
                ? `ìš°ë¦¬ ì•„ì´ê°€ íƒœì–´ë‚œ ì§€ ë²Œì¨ <strong>ë§Œ ${DateUtils.getAge(dueDate, today)}ì„¸</strong>ê°€ ë˜ì—ˆë„¤ìš”. ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìœ¡ì•„ê¸° ì œë„ë“¤ì„ í™•ì¸í•´ ë³¼ê¹Œìš”?`
                : `ì¶œì‚° ì˜ˆì •ì¼ê¹Œì§€ <strong>ì•½ ${DateUtils.diffDays(today, dueDate)}ì¼</strong> ë‚¨ì•˜ì–´ìš”. ê±´ê°• ê´€ë¦¬ì— ìœ ì˜í•˜ë©° ì•„ë˜ ì œë„ë“¤ì„ í™œìš©í•´ ë³´ì„¸ìš”!`;

            const summaryHtml = `
                <div class="result-item"><span class="result-label">í˜„ì¬ ìƒíƒœ</span><span class="result-value">${currentStatus}</span></div>
                <div class="message">${currentDesc}</div>
            `;
            UI.showResult('smartTimelineResult', 'success', summaryHtml);

            const steps = [
                {
                    title: "ì„ì‹ ê¸° ê·¼ë¡œì‹œê°„ ë‹¨ì¶• (ì´ˆê¸°)",
                    date: `${DateUtils.format(pregStart)} ~ ${DateUtils.format(preg12w)}`,
                    desc: "ì„ì‹  12ì£¼ ì´ë‚´ì—ëŠ” í•˜ë£¨ 2ì‹œê°„ì”© ë‹¨ì¶• ê·¼ë¬´ë¥¼ í•  ìˆ˜ ìˆì–´ìš”.",
                    color: "#ff9eb5",
                    active: !isAfterBirth && today <= preg12w,
                    targetPage: "workhour"
                },
                {
                    title: "íƒœì•„ê²€ì§„ íœ´ê°€",
                    date: `${DateUtils.format(pregStart)} ~ ${DateUtils.format(dueDate)}`,
                    desc: "ì„ì‹  ì£¼ì°¨ì— ë”°ë¼ ì •ê¸°ì ìœ¼ë¡œ ìœ ê¸‰ ê²€ì§„ íœ´ê°€ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš”.",
                    color: "#7ec8e8",
                    active: !isAfterBirth && today > pregStart && today <= dueDate,
                    targetPage: "checkup"
                },
                {
                    title: "ì„ì‹ ê¸° ê·¼ë¡œì‹œê°„ ë‹¨ì¶• (í›„ê¸°)",
                    date: `${DateUtils.format(preg31w1d)} ~ ${DateUtils.format(dueDate)}`,
                    desc: "ì„ì‹  31ì£¼ 1ì¼ ì´í›„ë¶€í„° ì¶œì‚° ì „ê¹Œì§€ í•˜ë£¨ 2ì‹œê°„ ë‹¨ì¶• ê·¼ë¬´ê°€ ê°€ëŠ¥í•´ìš”.",
                    color: "#c8a8e8",
                    active: !isAfterBirth && today >= preg31w1d && today <= dueDate,
                    targetPage: "workhour"
                },
                {
                    title: "ì¶œì‚°ì „í›„íœ´ê°€",
                    date: `${DateUtils.format(dueDate)} ì „í›„ (ì´ 90ì¼)`,
                    desc: "ì¶œì‚° ì „í›„ë¡œ ì¶©ë¶„í•œ íœ´ì‹ì„ ìœ„í•´ 90ì¼(ë‹¤íƒœì•„ 120ì¼)ì˜ íœ´ê°€ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš”.",
                    color: "#ffb8d0",
                    active: isAfterBirth && DateUtils.diffDays(dueDate, today) <= 90,
                    targetPage: "maternity"
                },
                {
                    title: "ìœ¡ì•„íœ´ì§ & ìœ¡ì•„ê¸° ë‹¨ì¶•ê·¼ë¬´",
                    date: `ì¶œì‚° í›„ ~ ${DateUtils.format(childAge8)}`,
                    desc: "ìë…€ê°€ ë§Œ 8ì„¸(ë˜ëŠ” ì´ˆë“± 2í•™ë…„)ê°€ ë  ë•Œê¹Œì§€ ìœ¡ì•„íœ´ì§ê³¼ ë‹¨ì¶•ê·¼ë¬´ë¥¼ í™œìš©í•  ìˆ˜ ìˆì–´ìš”.",
                    color: "#ffe8a0",
                    active: isAfterBirth && today <= childAge8,
                    targetPage: "parental"
                }
            ];

            const timelineContainer = $("smartTimelineContainer");
            if (timelineContainer) {
                timelineContainer.innerHTML = steps.map(step => `
                    <div class="timeline-step ${step.active ? 'active' : ''}" style="--dot-color: ${step.color}">
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                            <div class="timeline-info">
                                <div class="timeline-step-title">${step.title} ${step.active ? '<small>(í˜„ì¬ ì§„í–‰ ì¤‘ âœ¨)</small>' : ''}</div>
                                <div class="timeline-step-date">${step.date}</div>
                                <div class="timeline-step-desc">${step.desc}</div>
                            </div>
                            <button class="shortcut-btn" onclick="showPage('${step.targetPage}')">
                                ë°”ë¡œê°€ê¸° â”
                            </button>
                        </div>
                    </div>
                `).join('');
                timelineContainer.classList.add('show');
            }
        }

        // --- Initialization & Event Binding ---
        document.addEventListener('DOMContentLoaded', () => {
            // Menu navigation
            document.querySelectorAll('.menu-card').forEach(card => {
                card.addEventListener('click', () => {
                    const page = card.dataset.page;
                    if (page) showPage(page);
                });
            });

            // Back buttons
            document.querySelectorAll('.back-button').forEach(btn => {
                btn.addEventListener('click', () => {
                    const page = btn.dataset.page;
                    if (page) {
                        UI.hideResults();
                        showPage(page);
                    }
                });
            });

            // Calculators
            $('btnCalculateMaternity')?.addEventListener('click', calculateMaternityLeave);
            $('btnCalculateCheckup')?.addEventListener('click', calculateCheckupLeave);
            $('btnCalculateWorkHour')?.addEventListener('click', calculateWorkHourReduction);
            $('btnCalculateParental')?.addEventListener('click', calculateParentalLeave);
            $('btnCalculateParentalWork')?.addEventListener('click', calculateParentalWorkReduction);
            $('btnGenerateSmartTimeline')?.addEventListener('click', generateSmartTimeline);
        });
    </script>
</body>
</html>
